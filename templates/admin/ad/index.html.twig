{% extends 'admin/base.html.twig' %}

{% block title %}Administration des annonces{% endblock %}

{% block body %}
    <div class="container-fluid my-5">
        <h1 class="h3 my-5">Gestion des annonces</h1>

        <table class="table table-hover">
            <thead>
              <tr class="table-dark">
                <th scope="col">Id</th>
                <th scope="col">Titre</th>
                <th scope="col">Auteur</th>
                <th class="text-center" scope="col">RÃ©servations</th>
                <th class="text-center" scope="col">Note</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody>
                {% for ad in ads %}
              <tr class="table-primary">
                <th scope="row">{{ad.id}}</th>
                <td>{{ad.title}}</td>
                <td><img src="{{ad.author.avatar}}" alt="avatar de {{ad.author.fullName}}" class="avatar avatar-xs"> {{ad.author.fullName}}</td>
                <td class="text-center"><span class="badge bg-dark rounded">{{ad.bookings|length}}</span></td>
                <td class="text-center"><span class="badge bg-dark rounded">{{ad.averageratings|number_format(1,',',' ')}}</span></td>
                <td>
                    <a href="{{path('admin_ads_edit',{'id':ad.id})}}" class="btn btn-warning btn-sm"><i class="fas fa-edit"></i></a>
                    <a href="{{path('admin_ads_delete',{'id':ad.id})}}" class="btn btn-danger btn-sm"><i class="fas fa-trash"></i></a>
                </td>
              </tr>
                 {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
