{% extends 'base.html.twig' %}

{% block title %}
	{{ad.title}}
{% endblock %}
{% block body %}

    <!-- Titre -->
	<div class="ad-title" style="background-image:url({{ad.coverImage}})">
		<div class="container mt-5">
			<h1>{{ad.title}}</h1>
			<p>{{ad.introduction}}</p>
			<p class="h5">{{ad.rooms}}chambres pour <strong>{{ad.price}}
					&euro; / nuit</strong>
			</p>
			<a href="#" class="btn btn-warning mt-3">Réserver !</a>
		</div>
	</div>

	<div class="container">
		<div class="row mt-5">
			<div class="col-md-8 mb-3">
			  <div class="col-sm-6">
				{{ad.content|raw}}
			  </div>

				<!-- Carousel -->
				<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
					<div class="carousel-indicators">
                       {% for image in ad.images %}
						  <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="{{loop.index0}}" class="{% if loop.first %}active {% endif %}" aria-current="true" aria-label="Slide 1"></button>
					   {% endfor %}
					</div>

					<div class="carousel-inner">
					    {% for image in ad.images %}
						<div class="carousel-item {% if loop.first %}active{% endif %}">
							<img src="{{"https://picsum.photos/1000/350"}}" class="d-block w-100" alt="...">
							<div class="carousel-caption d-none d-md-block">
							   <h5>{{ad.title}}</h5>
							   <p>{{image.caption}}</p>
							</div>
						</div>
						{% endfor %}
					</div>
					    
					<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
						<span class="carousel-control-prev-icon" aria-hidden="true"></span>
						<span class="visually-hidden">Précédent</span>
					</button>
					<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
						<span class="carousel-control-next-icon" aria-hidden="true"></span>
						<span class="visually-hidden">Suivant</span>
					</button>
				</div>
			</div>


		    <!-- Contenu -->
			<div class="col">
			{% set a = ad.author %}
				<div class="row">
					<div class="col-4">
				        <a href="{{path('user_show',{'slug':a.slug })}}">
						    <img src="{{a.avatar}}" alt="{{ a.fullName }}" class="avatar avatar-medium">
						</a>
					</div>

					<div class="col">
					    <a href="{{path('user_show',{'slug':a.slug })}}">
						    <h3>{{ a.fullName }}</h3>
						</a>
						<span class="badge rounded-pill bg-warning text-dark">{{a.ads| length}} {% if a.ads| length > 1 %} annonces {% else %} annonce {% endif %}</span>
					</div>

				</div>

				<div class="col py-3">
					{{ a.introduction | raw }} 
				</div>

			</div>
		</div>


	</div>


{% endblock %}

